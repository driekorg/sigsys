function [X1,X2,theta] = DF_gen(xx)%DF_GEN  generate complex amplitudes at the two receivers%        for the Direction Finding Lab% usage  [X1,X2,theta] = DF_gen;%%      X1 = complex amplitude at Receiver #1%      X2 = complex amplitude at Receiver #2%   theta = the TRUE value of the "direction" in DEGREES%% alternate usage:%       [X1,X2,theta] = DF_gen(xx);%%      xx = vector of "x positions" of the vehicle%           then X1, X2 and theta are vectors%-- Jim McClellan, 31-Aug-2001d = 0.4;ff = 400;ww = 2*pi*ff;c = 1000/3;lambda = c/ff;yr = 100;if nargin==0    xx = 2*yr*randn;elseif nargin>1    error('>>>DF_GEN: number of input args can be zero or one')endp1 = j*yr - xx;p2 = j*yr + d  - xx;R1 = abs(p1);R2 = abs(p2);X0 = 1000*exp(j*2*pi*rand);    %--- initial amp & phaseX1 = X0*exp(j*ww*R1/c)./R1;X2 = X0*exp(j*ww*R2/c)./R2;theta = (180/pi)*angle(j*yr - xx) - 90;